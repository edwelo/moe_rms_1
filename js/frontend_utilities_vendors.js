//rq listfunction list(vendors) {	var dataKeys = vendors.keys;		document.getElementById("listView").style.display = "block";	document.getElementById("formView").style.display = "none";	//get the table	var tbl = document.getElementById("listTable");	var hdRow = tbl.rows[0];	var tBody = tbl.tBodies[0];		//get the fields to be populated	var datas = hdRow.getElementsByTagName("data");	var dataIndex = [];	for(i = 0, il = datas.length; i < il; i++) {		var theField = datas[i].value;		for(j = 0, jl = dataKeys.length; j < jl; j++) {			if(theField == dataKeys[j]) {				break;			}		}		dataIndex[i] = j;	}		var theValue = "";	//populate the table	for (i = 0; i < vendors.values.length; i++) {		//check if there is a row. if not, add it.		if(tBody.rows[i] === undefined) {			var cln = tBody.rows[i - 1].cloneNode(true);			tBody.appendChild(cln);		}		var tr = tBody.rows[i];		var spans = tr.getElementsByTagName("span");		//populate the row		for (j = 0; j < spans.length; j++) {			if(vendors.values[i][dataIndex[j]]) {				theValue = vendors.values[i][dataIndex[j]];			} else {				theValue = "";			}			spans[j].innerHTML = theValue;		}		//set the onclick and the cursor of this table row		var onclickStr = "setId(" + vendors.values[i][0] + ")";		tr.setAttribute('onclick', onclickStr)	}}//rq formfunction form(vendor) {	document.getElementById("listView").style.display = "none";	document.getElementById("formView").style.display = "block";	document.getElementById("rqId").innerHTML = rqId;		var div = document.getElementById("formViewData");		inputs = div.getElementsByTagName("input");	if(vendor == "new") {	  		for(i=0; i < inputs.length; i++) {  		  			var field = inputs[i].name;  			  			if(field == "vendorId") {  				inputs[i].value = "new";  			} else {  				inputs[i].value = "";  			}    		}	}		if(typeof vendor == "object") {		if(rqId != vendor.vendorId) {			rqId = vendor.vendorId;			document.getElementById("rqId").innerHTML = rqId;		}		  		for(i=0; i < inputs.length; i++) {  		  			var field = inputs[i].name;  			inputs[i].value = vendor[field];  		  		}	}}//set the rqId and call main//rqId is a module level variable. The value set here is accessible//from any other script or function in this module.function setId(value) {	rqId=value;	if(value == "new") {		form("new");	} else {		main();	}}//clear the form for a new receivingfunction rq_form_validate() {	var valid = true;	return valid; // 180724 0430 bypass while rewriting save function	//the relevant html sections that need to be saved	var rcvData = document.getElementById("rcvData");	var rcvItems = document.getElementById("rcvTable");	for(i = 0, l=inputs.length; i<l; i++) {		var name = inputs[i].name; var value = inputs[i].value;		if(value == "") {			//if(name == "initiatingOffice") { valid = false; break; }			if(name == "preparedDate") { valid = false; break; }			if(name == "vendorId") { valid = false; break; }			if(name == "justification") { valid = false; break; }		}	}	//rq items, checking row 1	var inputs = document.getElementById("items_table").rows[1].getElementsByTagName("input");	for(i = 0, l=inputs.length; i<l; i++) {		var name = inputs[i].name; var value = inputs[i].value;		if(value == "") {			if(name == "quantity") { valid = false; break; }			if(name == "unit") { valid = false; break; }			if(name == "price") { valid = false; break; }			if(name == "description") { valid = false; break; }		}	}	return valid;}function save() {	if(rq_form_validate() == true) {				if(Number(rqId) == rqId || rqId == "new") {			var div = document.getElementById("formViewData");			var inputs = div.getElementsByTagName("input");						var data = {};			data.saveVendor = {};			for (i = 0, il=inputs.length; i < il; i++) {				var field=inputs[i].name;				data.saveVendor[field] = inputs[i].value;			}			//alert("Will return: " + JSON.stringify(data));			return JSON.stringify(data);		}	} else {		alert("Could not save. Incomplete data.");	}}