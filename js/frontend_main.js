//front end mainfunction main(prm) {	if(page_name != "Info") {		var json = null;		var url = "api/backend.php";		if(rqId) url = "api/backend.php?requisitionId=" + rqId;		if(rqId == "new") { rq_form(); }		if(prm == "button") {			url += "&save=1";			var json = save();			console.log("JSON: " + json);		}		//alert(url);		//alert((typeof json == "string") + "\n" + (rqId !== "new"));		if(typeof json == "string" || rqId !== "new") {			var xmlhttp = new XMLHttpRequest();			xmlhttp.onreadystatechange = function() {				if (this.readyState == 4 && this.status == 200) {					//console.log(this.responseText);					obj = JSON.parse(this.responseText);					type = Object.keys(obj)[0]; //either 'rq' or 'rqlist'					if(type == "rqlist") {						rq_list(obj[type]); //does the rq list					} else {						console.log(this.responseText);						rqId = obj[type]["requisitionId"];						rq_form(obj[type]); //does the rq form					}				}			}			xmlhttp.open("POST", url, true);			//xmlhttp.setRequestHeader('Content-type','application/x-www-form-urlencoded');			//xmlhttp.setRequestHeader('Content-type','application/json; charset=utf-8');			xmlhttp.setRequestHeader('Content-type','application/json');			xmlhttp.send(json);		}	}}