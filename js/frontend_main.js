//front end mainfunction main(prm) {	if(page_name != "Info") {		var json = null;		var url = "api/backend.php?pn=" + page_name;		if(rqId) url += "&requisitionId=" + rqId;		if(rqId == "new") { rq_form(); }		if(prm == "button") {			url += "&save=1";			var json = save();			console.log("JSON: " + json);		}		//alert(url);		//alert((typeof json == "string") + "\n" + (rqId !== "new"));		var xmlhttp = new XMLHttpRequest();		xmlhttp.onreadystatechange = function() {			if (this.readyState == 4 && this.status == 200) {				console.log(this.responseText);				obj = JSON.parse(this.responseText);				type = Object.keys(obj)[0]; //either 'rq' or 'rqlist'				if(type == "rqlist") {					rq_list(obj[type]); //does the rq list				} else {					//console.log(this.responseText);					rqId = obj[type]["requisitionId"];					rq_form(obj[type]); //does the rq form				}			}		}		if(typeof json == "string") {			xmlhttp.open("POST", url, true);			//xmlhttp.setRequestHeader('Content-type','application/x-www-form-urlencoded');			//xmlhttp.setRequestHeader('Content-type','application/json; charset=utf-8');			xmlhttp.setRequestHeader('Content-type','application/json');			xmlhttp.send(json);		} else {			xmlhttp.open("GET", url, true);			xmlhttp.send();		}	}}